–ö–æ–Ω–µ—á–Ω–æ! –ù–∏–∂–µ ‚Äî –æ–±–Ω–æ–≤–ª—ë–Ω–Ω–∞—è –∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞ —Å **–Ω–æ–≤–æ–π —Å–µ–∫—Ü–∏–µ–π –ø—Ä–æ Docker**, —á—Ç–æ–±—ã —É —Ç–µ–±—è –±—ã–ª –≤—ã–±–æ—Ä: –ª–∏–±–æ –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Redis, –ª–∏–±–æ –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä.

---

# üöÄ Quick Start: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ Redis –Ω–∞ VM (NAT) –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∏–∑ Windows  
*(—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π Docker-–æ–±—Ä–∞–∑–∞)*

---

## ‚úÖ –®–∞–≥ 1: –í—ã–±–µ—Ä–∏ —Å–ø–æ—Å–æ–± —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Redis

–£ —Ç–µ–±—è –µ—Å—Ç—å **–¥–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞** ‚Äî –≤—ã–±–µ—Ä–∏ —Ç–æ—Ç, —á—Ç–æ —É–¥–æ–±–Ω–µ–µ:

---

## üì¶ –í–∞—Ä–∏–∞–Ω—Ç A: –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ (—á–µ—Ä–µ–∑ `apt`)

–í—ã–ø–æ–ª–Ω–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Ubuntu VM:

```bash
sudo apt update
sudo apt install -y redis-server
```

> üí° –ï—Å–ª–∏ `redis-server` –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Äî –≤–∫–ª—é—á–∏ universe-—Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
> ```bash
> sudo add-apt-repository universe
> sudo apt update
> sudo apt install redis-server
> ```

---

## üê≥ –í–∞—Ä–∏–∞–Ω—Ç B: –ó–∞–ø—É—Å–∫ Redis —á–µ—Ä–µ–∑ Docker (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞)

–ï—Å–ª–∏ —Ç—ã —Ö–æ—á–µ—à—å **–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—É—é, —á–∏—Å—Ç—É—é –∏ –ª–µ–≥–∫–æ —É–ø—Ä–∞–≤–ª—è–µ–º—É—é —Å—Ä–µ–¥—É** ‚Äî –∏—Å–ø–æ–ª—å–∑—É–π Docker.

### üîß –£—Å—Ç–∞–Ω–æ–≤–∏ Docker (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker Engine
sudo apt update
sudo apt install -y ca-certificates curl gnupg lsb-release

sudo mkdir -p /etc/apt/keyrings
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg

echo "deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin
```

### ‚úÖ –î–æ–±–∞–≤—å —Å–µ–±—è –≤ –≥—Ä—É–ø–ø—É `docker` (—á—Ç–æ–±—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `sudo`):

```bash
sudo usermod -aG docker $USER
```

> ‚ö†Ô∏è **–í—ã–π–¥–∏ –∏ –∑–∞–π–¥–∏ –∑–∞–Ω–æ–≤–æ –≤ —Å–µ—Å—Å–∏—é Ubuntu (–∏–ª–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏ VM)**, —á—Ç–æ–±—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤—Å—Ç—É–ø–∏–ª–∏ –≤ —Å–∏–ª—É.

### üöÄ –ó–∞–ø—É—Å—Ç–∏ Redis –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ:

```bash
docker run -d \
  --name redis-server \
  -p 6379:6379 \
  --restart unless-stopped \
  redis:latest \
  redis-server --bind 0.0.0.0 --protected-mode no
```

> üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ:
> - `-d` ‚Äî –∑–∞–ø—É—Å–∫ –≤ —Ñ–æ–Ω–µ.
> - `-p 6379:6379` ‚Äî –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞ —Ö–æ—Å—Ç (VM).
> - `--bind 0.0.0.0` ‚Äî —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –≤–Ω–µ—à–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.
> - `--protected-mode no` ‚Äî –æ—Ç–∫–ª—é—á–∞–µ—Ç –∑–∞—â–∏—Ç—É (–¥–ª—è —Ç–µ—Å—Ç–∞; –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π –ø–∞—Ä–æ–ª—å).
> - `--restart unless-stopped` ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ —Å–±–æ—è –∏–ª–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ VM.

### ‚úÖ –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
docker ps
```

‚Üí –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä `redis-server` –≤ —Å—Ç–∞—Ç—É—Å–µ `Up`.

–ü—Ä–æ–≤–µ—Ä—å –ª–æ–∫–∞–ª—å–Ω–æ –≤–Ω—É—Ç—Ä–∏ VM:

```bash
redis-cli -h 127.0.0.1 ping
# ‚Üí PONG
```

> üí° –ï—Å–ª–∏ `redis-cli` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∏: `sudo apt install redis-tools`

---

## ‚úÖ –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –≤ VirtualBox (–∏–ª–∏ VMware)

–¢—ã –≤ —Ä–µ–∂–∏–º–µ **NAT** ‚Üí –∑–Ω–∞—á–∏—Ç, —Ö–æ—Å—Ç –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ —Ç–∞–∫ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ –í–ú.

### –í VirtualBox:

1. –í—ã–∫–ª—é—á–∏ –í–ú (–Ω–µ –≤—ã–∫–ª—é—á–∞–π –û–° ‚Äî –æ—Å—Ç–∞–Ω–æ–≤–∏ —á–µ—Ä–µ–∑ VirtualBox).
2. –û—Ç–∫—Ä–æ–π ‚Üí **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ ‚Üí –°–µ—Ç—å ‚Üí NAT ‚Üí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ ‚Üí –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤**.
3. –î–æ–±–∞–≤—å –ø—Ä–∞–≤–∏–ª–æ:

| –ò–º—è   | –ü—Ä–æ—Ç–æ–∫–æ–ª | –ü–æ—Ä—Ç —Ö–æ—Å—Ç–∞ | –ü–æ—Ä—Ç –≥–æ—Å—Ç—è | IP –≥–æ—Å—Ç—è        |
| ----- | -------- | ---------- | ---------- | --------------- |
| Redis | TCP      | `6379`     | `6379`     | (–æ—Å—Ç–∞–≤—å –ø—É—Å—Ç—ã–º) |

> üí° IP –≥–æ—Å—Ç—è –º–æ–∂–Ω–æ –Ω–µ —É–∫–∞–∑—ã–≤–∞—Ç—å ‚Äî –µ—Å–ª–∏ –≤ –í–ú —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Å–µ—Ç–µ–≤–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.

4. –ó–∞–ø—É—Å—Ç–∏ –í–ú.

---

## ‚úÖ –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å –¥–æ—Å—Ç—É–ø –∫ Redis —Å —Ö–æ—Å—Ç–∞ (Windows)

–û—Ç–∫—Ä–æ–π PowerShell –Ω–∞ **—Ö–æ—Å—Ç–µ (Windows)**:

```powershell
Test-NetConnection localhost -Port 6379
```

‚Üí –î–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
TcpTestSucceeded : True
```

> üí° –ü–æ—á–µ–º—É `localhost`? –ü–æ—Ç–æ–º—É —á—Ç–æ —Ç—ã –ø—Ä–æ–±—Ä–æ—Å–∏–ª –ø–æ—Ä—Ç **—Å —Ö–æ—Å—Ç–∞ 6379 ‚Üí –≤ –≥–æ—Å—Ç—è 6379**.

–ï—Å–ª–∏ `False` ‚Äî –ø—Ä–æ–≤–µ—Ä—å:
- –ü—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤ –≤ VirtualBox
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å Docker ‚Äî —É–±–µ–¥–∏—Å—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω (`docker ps`) –∏ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç –ø–æ—Ä—Ç (`-p 6379:6379`)
- –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π Redis ‚Äî –ø—Ä–æ–≤–µ—Ä—å `bind 0.0.0.0` –≤ `/etc/redis/redis.conf`
- –§–∞–µ—Ä–≤–æ–ª –≤–Ω—É—Ç—Ä–∏ –í–ú: `sudo ufw allow 6379` (–µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω)

---

## ‚úÖ –®–∞–≥ 4: –ü–æ–¥–∫–ª—é—á–∏—Å—å –∏–∑ C# (.NET)

–°–æ–∑–¥–∞–π –ø—Ä–æ–µ–∫—Ç:

```bash
dotnet new console -n RedisTest
cd RedisTest
dotnet add package StackExchange.Redis
```

–ó–∞–º–µ–Ω–∏ `Program.cs`:

```csharp
using StackExchange.Redis;
using System;

class Program
{
    static async Task Main(string[] args)
    {
        // –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ localhost:6379 ‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –ø–æ—Ä—Ç –ø—Ä–æ–±—Ä–æ—à–µ–Ω!
        var redis = await ConnectionMultiplexer.ConnectAsync("localhost:6379");

        var db = redis.GetDatabase();

        await db.StringSetAsync("test", "Hello from Windows to VM!");
        var value = await db.StringGetAsync("test");

        Console.WriteLine($"–ü–æ–ª—É—á–µ–Ω–æ: {value}");
    }
}
```

–ó–∞–ø—É—Å—Ç–∏:

```bash
dotnet run
```

‚Üí –í—ã–≤–æ–¥:

```
–ü–æ–ª—É—á–µ–Ω–æ: Hello from Windows to VM!
```

---
## [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Redis] [https://stackexchange.github.io/StackExchange.Redis/]